syntax = "proto3";
package types;

option go_package = "github.com/sisu-network/sisu/x/sisu/types";

enum TxInType {
  TOKEN_TRANSFER = 0;
  REMOTE_CALL = 1;
}

message TxIn {
  string id = 1;
  string from_chain = 2;
  bytes Serialize = 3;

  repeated TransferDetails transfers = 4;
}

message TxInMsg {
  string signer = 1;
  TxIn Data = 2;
}

// Note: all new fields in this proto MUST be included in SerializeWithoutSigner in the go file.
message TransfersMsg {
  string signer = 1;
  Transfers data = 2;
}

message Transfers {
  repeated TransferDetails transfers =  1;
}

message TransferDetails {
  string id = 1;
  TxInType tx_type = 2;
  string tx_in_id = 3;

  // Source
  string from_chain = 4;
  int64 from_block_height = 5;
  string from_hash = 6;
  string from_sender = 7;

  string token = 8;
  string amount = 9;

  // Destination
  string to_chain = 10;
  string to_recipient = 11;

  // Retry number
  int32 retryNum = 12;

  // Remote call
  bytes message = 13;
  uint64 call_gas_limit = 14;
}
